# Mouseion アーキテクチャ

## 概要

Mouseionは、関心事を分離しながらコンポーネント間のシームレスな統合を可能にする3層アーキテクチャとして設計されています。

## システムレイヤー

```
┌─────────────────────────────────────────────────────────────────┐
│                    アプリケーション層                            │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐        │
│  │ウォレット│  │  データ  │  │   報酬   │  │マーケット│        │
│  │   UI     │  │  登録    │  │ダッシュ  │  │プレイス  │        │
│  │          │  │          │  │ボード    │  │          │        │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘        │
│  ┌──────────┐  ┌──────────┐                                     │
│  │ガバナンス│  │  専門家  │                                     │
│  │  投票    │  │ポータル  │                                     │
│  └──────────┘  └──────────┘                                     │
├─────────────────────────────────────────────────────────────────┤
│                      サービス層                                  │
│  ┌────────────────┐  ┌────────────────┐  ┌────────────────┐    │
│  │    貢献追跡    │  │    報酬分配    │  │  ガバナンス    │    │
│  │                │  │                │  │   エンジン     │    │
│  └────────────────┘  └────────────────┘  └────────────────┘    │
│  ┌────────────────┐  ┌────────────────┐  ┌────────────────┐    │
│  │  データ管理    │  │   専門家選定   │  │ バージョン     │    │
│  │                │  │                │  │   管理         │    │
│  └────────────────┘  └────────────────┘  └────────────────┘    │
├─────────────────────────────────────────────────────────────────┤
│                      レイヤー1（基盤）                           │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │       可逆送金型ブロックチェーン（TypeScript）             │  │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐  │  │
│  │  │ 保留型   │  │   取消   │  │ガーディ  │  │ワンタイム│  │  │
│  │  │ 送金     │  │ ロジック │  │アン承認  │  │   鍵     │  │  │
│  │  └──────────┘  └──────────┘  └──────────┘  └──────────┘  │  │
│  └──────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
```

## レイヤー1: 可逆送金型ブロックチェーン

### 目的
基盤層は、組み込みのトランザクション可逆性を持つ新しいブロックチェーンを提供し、安全で回復可能な金融操作を可能にします。

### 主要コンポーネント

#### 保留型送金エンジン
- トランザクションは確認されるまで保留状態を維持
- 設定可能な保留期間（3分〜24時間）
- タイムアウトルールに基づく自動確定または返金

#### 取消ロジック
- 受取人が確認する前に送信者がキャンセル可能
- 悪用防止のための小額のキャンセル手数料
- キャンセル試行のレート制限

#### ガーディアンシステム
- 紛争解決のためのマルチシグ承認
- 詐欺ケースに対する凍結・回復機能
- ステーキングによる分散型ガーディアン選出

#### ワンタイム鍵（合言葉）システム
- トランザクションごとに固有の合言葉を生成
- 受取人は一致する確認を返す必要がある
- 誤送金となりすましを防止

### 技術スタック

#### ブロックチェーンフレームワーク評価

Layer 1実装のために複数のフレームワークを評価しました：

| フレームワーク | 言語 | コンセンサス | 主な特徴 | 評価 |
|:--|:--|:--|:--|:--|
| **Cosmos SDK** | Go | CometBFT | IBC相互運用、モジュラー | ⭐ 第一候補 |
| **Substrate** | Rust | BABE/GRANDPA | フォークレス更新、柔軟なデプロイ | ⭐ 有力な代替 |
| **OP Stack** | Solidity | Ethereum L2 | EVM互換、実績あり | 代替オプション |
| **独自実装** | TypeScript/Rust | 独自 | 完全な自由度 | 開発コスト高 |

---

#### Cosmos SDK 詳細調査

**概要**

Cosmos SDKは、アプリケーション固有のブロックチェーン（appchain）を構築するためのモジュラーフレームワークです。コンセンサス（CometBFT）とアプリケーションロジックを分離し、開発者がビジネスロジックに集中できるようにしています。

**主要コンポーネント**

```
┌─────────────────────────────────────────────────────────────┐
│                  Cosmos SDK アーキテクチャ                   │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  ┌────────────────────────────────────────────────────────┐ │
│  │             アプリケーション層 (Go)                     │ │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐             │ │
│  │  │ モジュール│  │  Keeper  │  │   Store  │             │ │
│  │  │ (カスタム)│  │ (状態)   │  │  (IAVL)  │             │ │
│  │  └──────────┘  └──────────┘  └──────────┘             │ │
│  └────────────────────────────────────────────────────────┘ │
│                           │                                  │
│                           ▼                                  │
│  ┌────────────────────────────────────────────────────────┐ │
│  │                CometBFT (コンセンサス)                  │ │
│  │  - ビザンチン障害耐性                                   │ │
│  │  - 即時ファイナリティ（ブロック再編成なし）             │ │
│  │  - 約1秒のブロック時間が可能                           │ │
│  └────────────────────────────────────────────────────────┘ │
│                           │                                  │
│                           ▼                                  │
│  ┌────────────────────────────────────────────────────────┐ │
│  │                IBC (相互運用性)                         │ │
│  │  - クロスチェーン通信                                   │ │
│  │  - Cosmosチェーン間のトークン転送                       │ │
│  │  - メッセージパッシング                                 │ │
│  └────────────────────────────────────────────────────────┘ │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

**事例研究: dYdXの移行**

大手分散型デリバティブ取引所のdYdXは、Ethereum（StarkEx L2）から専用のCosmos SDKチェーンに移行しました：

| 項目 | 移行前 (Ethereum) | 移行後 (Cosmos SDK) |
|:--|:--|:--|
| TPS | 約10-100 | 約10,000以上 |
| ファイナリティ | 数分（ロールアップ含む） | 約1秒 |
| カスタマイズ | EVMの制限 | 完全な制御 |
| 手数料 | 変動、高額 | 予測可能、低額 |
| オーダーブック | オフチェーン | オンチェーン（バリデータ） |

**Mouseionへの関連性**: dYdXはEVMのモデルに合わないカスタムロジック（オーダーブックマッチング）を必要としました。同様に、Mouseionの可逆送金もCosmos SDKが可能にするカスタム状態機械ロジックを必要とします。

**Mouseionにとってのメリット**

1. **即時ファイナリティ**: CometBFTは即座にトランザクションを確定。可逆送金に不可欠（ブロック再編成で「確定済み」状態が取り消されるリスクがない）
2. **カスタムモジュール**: 保留型送金、ガーディアンシステム、キャンセルロジックをネイティブモジュールとして実装可能
3. **IBC対応**: 将来的に他のCosmosチェーンとの相互運用（OsmosisでDEX、Nobleでステーブルコイン等）
4. **成熟したエコシステム**: 充実したドキュメント、大規模コミュニティ、多数の本番稼働実績

**Mouseionにとってのデメリット**

1. **Go言語**: チームがGoを学ぶ必要がある（TypeScriptプロトタイピングは役立つ）
2. **バリデータセット**: 初期バリデータの確保が必要
3. **フォークレス更新なし**: 協調的なアップグレードが必要（ガバナンスで支援可能）

---

#### Substrate 詳細調査

**概要**

SubstrateはParity Technologiesが開発したモジュラーブロックチェーンフレームワークです。極めて高い柔軟性と、独自の「フォークレスアップグレード」機能を提供します。

**主要コンポーネント**

```
┌─────────────────────────────────────────────────────────────┐
│                  Substrate アーキテクチャ                    │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  ┌────────────────────────────────────────────────────────┐ │
│  │            ランタイム (WebAssembly / Native)            │ │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐             │ │
│  │  │ Pallets  │  │ FRAME    │  │ Storage  │             │ │
│  │  │(カスタム)│  │(Framework)│ │  (Trie)  │             │ │
│  │  └──────────┘  └──────────┘  └──────────┘             │ │
│  │                                                         │ │
│  │  ★ ランタイムはWASMとしてオンチェーンに保存             │ │
│  │  ★ ハードフォークなしでアップグレード可能！             │ │
│  └────────────────────────────────────────────────────────┘ │
│                           │                                  │
│                           ▼                                  │
│  ┌────────────────────────────────────────────────────────┐ │
│  │                  コンセンサスオプション                  │ │
│  │  - BABE: ブロック生成（確率的ファイナリティ）           │ │
│  │  - GRANDPA: ファイナリティガジェット（決定的）          │ │
│  │  - Aura: 単純なラウンドロビン（テストネット向け）       │ │
│  └────────────────────────────────────────────────────────┘ │
│                           │                                  │
│                           ▼                                  │
│  ┌────────────────────────────────────────────────────────┐ │
│  │                 デプロイオプション                       │ │
│  │  ┌─────────────────┐    ┌─────────────────┐            │ │
│  │  │   ソロチェーン   │    │   パラチェーン   │            │ │
│  │  │    (独立)       │    │   (Polkadot)    │            │ │
│  │  └─────────────────┘    └─────────────────┘            │ │
│  └────────────────────────────────────────────────────────┘ │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

**ソロチェーン vs パラチェーン**

これは重要なアーキテクチャ上の決定です：

| 項目 | ソロチェーン | パラチェーン |
|:--|:--|:--|
| **独立性** | 完全な自律性 | Polkadotエコシステムの一部 |
| **セキュリティ** | 独自のバリデータセット | Polkadotからの共有セキュリティ |
| **相互運用性** | ブリッジのみ | 他パラチェーンとのネイティブXCMP |
| **コスト** | バリデータインフラ | パラチェーンスロットオークション/リース |
| **ガバナンス** | 完全に独立 | Polkadotガバナンスの影響下 |

**重要な明確化**: MouseionがSubstrateを使用しても、Polkadot、Astar、または他のチェーンに依存するわけではありません。**ソロチェーン**は、単にSubstrateをフレームワークとして使用する完全に独立したブロックチェーンです。この関係は以下に類似しています：
- Linuxカーネル → Ubuntu（Linuxを使用するが独立）
- Ruby on Rails → 任意のRailsアプリ（Railsを使用するが独立）

**事例研究: Astar Network**

Astarはパラチェーンモデルを選択し、以下を得ています：
- Polkadotからの共有セキュリティ
- 他のパラチェーンへのネイティブブリッジ
- Polkadotエコシステムへのアクセス

しかし、Mouseionには**ソロチェーンを推奨**します。理由：
1. ガバナンスとトークノミクスの完全な制御
2. Polkadotスロットオークションへの依存なし
3. カスタムコンセンサスパラメータの自由
4. 後から他のチェーンへのブリッジを追加可能

**Mouseionにとってのメリット**

1. **フォークレスアップグレード**: ランタイム（ビジネスロジック）がWASMとしてオンチェーンに保存。ノードソフトウェア更新なしでアップグレード
2. **Rustの安全性**: メモリ安全な言語で金融コードのバグを削減
3. **FRAME Pallets**: 共通機能（残高、ガバナンス、ステーキング）の構築済みモジュール
4. **ソロチェーンの自由**: 外部依存なしの完全な独立性

**Mouseionにとってのデメリット**

1. **Rustの複雑さ**: Goより学習曲線が急
2. **GRANDPAファイナリティ**: 即時ではない（ファイナリティガジェットで約12〜30秒）。ただしブロック生成は6秒ごと
3. **小さいエコシステム**: Cosmosより本番稼働実績が少ない

---

#### フレームワーク比較マトリクス

| 機能 | Cosmos SDK | Substrate (ソロチェーン) |
|:--|:--|:--|
| **言語** | Go | Rust |
| **ファイナリティ時間** | 約1秒（即時） | 約12〜30秒 |
| **アップグレード方法** | 協調的ハードフォーク | フォークレス (WASM) |
| **相互運用性** | IBC (Cosmosエコシステム) | ブリッジ（カスタム） |
| **独立性** | 完全 | 完全 |
| **カスタムロジック** | モジュール (Go) | Pallets (Rust) |
| **エコシステム規模** | 大 | 中 |
| **学習曲線** | 中程度 | 急 |
| **可逆送金適合度** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |

---

#### Mouseionへの推奨

**第一推奨: Cosmos SDK**

CometBFTの即時ファイナリティは、可逆送金にとって決定的な優位性です。トランザクションがFINALIZED状態に移行したとき、チェーン再編成でそれが取り消される可能性なく、真に最終的でなければなりません。Cosmos SDKはこの保証を提供します。

**代替案: Substrate ソロチェーン**

チームがRustの専門知識を持っているか、フォークレスアップグレードを高く評価する場合、Substrateソロチェーンは有力な代替案です。約12〜30秒のファイナリティはほとんどのユースケースで許容可能ですが、若干長い不確実性の窓が生じます。

**判断基準**

| 重視する点 | 選択 |
|:--|:--|
| 即時ファイナリティ | Cosmos SDK |
| フォークレスアップグレード | Substrate |
| より大きなエコシステム/ドキュメント | Cosmos SDK |
| メモリ安全性 (Rust) | Substrate |
| IBC相互運用性 | Cosmos SDK |
| 完全な独立性 | どちらでも（両方サポート） |

#### ハイブリッドアーキテクチャ

```
┌─────────────────────────────────────────────────────────┐
│                   Mouseion スタック                     │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────────────┐    ┌───────────────────────────┐  │
│  │  TS サービス    │    │  ブロックチェーンコア     │  │
│  │                 │    │  (Cosmos SDK / Substrate) │  │
│  │  - 貢献度計算   │───►│                           │  │
│  │  - 類似度分析   │    │  - 可逆送金               │  │
│  │  - 最適化      │    │  - ガーディアンシステム   │  │
│  │                 │    │  - ステーキング＆ガバナンス│  │
│  └─────────────────┘    └─────────────┬─────────────┘  │
│                                       │                 │
│                                       ▼                 │
│                         ┌───────────────────────────┐  │
│                         │  決済レイヤー             │  │
│                         │  (オプション: Ethereum L1)│  │
│                         │  - 大口決済               │  │
│                         │  - クロスチェーンブリッジ │  │
│                         └───────────────────────────┘  │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

#### 技術選定

- **コアブロックチェーン**: Cosmos SDK (Go) または Substrate (Rust)
- **計算レイヤー**: TypeScript（科学計算、印税計算）
- **プロトタイプ**: TypeScript（迅速な開発、テスト）
- **コンセンサス**: CometBFT（即時ファイナリティ）または GRANDPA
- **ブロック時間**: 1-2秒を目標

## サービス層: AI印税分配

### 貢献追跡モジュール

```
┌─────────────────────────────────────────┐
│            貢献追跡エンジン             │
├─────────────────────────────────────────┤
│  入力分析                               │
│  ├── 意味的類似度（BERT）               │
│  ├── キーワードマッチング（TF-IDF）     │
│  └── パターン認識（クラスタリング）     │
├─────────────────────────────────────────┤
│  帰属エンジン                           │
│  ├── RAGベース参照追跡                  │
│  ├── Attention Weight解析              │
│  └── Influence Function推定            │
├─────────────────────────────────────────┤
│  貢献スコア計算                         │
│  ├── 利用頻度                           │
│  ├── 品質スコア                         │
│  ├── 類似度スコア                       │
│  └── 希少性係数                         │
└─────────────────────────────────────────┘
```

### 報酬分配モジュール

```
┌─────────────────────────────────────────┐
│            報酬分配エンジン             │
├─────────────────────────────────────────┤
│  プール管理                             │
│  ├── 手数料徴収                         │
│  ├── トークン割当                       │
│  └── リザーブ管理                       │
├─────────────────────────────────────────┤
│  分配エンジン                           │
│  ├── 貢献集計                           │
│  ├── 按分計算                           │
│  └── 保留型送金実行                     │
├─────────────────────────────────────────┤
│  検証                                   │
│  ├── 二重支払い防止                     │
│  ├── 不正検知                           │
│  └── 監査証跡                           │
└─────────────────────────────────────────┘
```

### データ管理モジュール

```
┌─────────────────────────────────────────┐
│            データマネージャー           │
├─────────────────────────────────────────┤
│  登録                                   │
│  ├── メタデータ検証                     │
│  ├── ハッシュ生成                       │
│  └── 権限記録                           │
├─────────────────────────────────────────┤
│  ストレージ連携                         │
│  ├── オンチェーン（メタデータ）         │
│  └── オフチェーン（IPFS/Arweave）       │
├─────────────────────────────────────────┤
│  人間/AI分離                            │
│  ├── ソースタグ付け                     │
│  ├── 分離インデックス                   │
│  └── 学習フィルター                     │
└─────────────────────────────────────────┘
```

### 専門家選定モジュール

```
┌─────────────────────────────────────────┐
│            専門家セレクター             │
├─────────────────────────────────────────┤
│  審査区分表                             │
│  ├── 学術分野                           │
│  ├── 産業セクター                       │
│  └── 専門タグ                           │
├─────────────────────────────────────────┤
│  候補者スコアリング                     │
│  ├── 過去の貢献                         │
│  ├── 評価履歴                           │
│  └── 専門性スコア                       │
├─────────────────────────────────────────┤
│  選定アルゴリズム                       │
│  ├── AIベースマッチング                 │
│  └── コミュニティ投票                   │
└─────────────────────────────────────────┘
```

### アノテーション・相互レビューシステム

このセクションでは、データ提出から品質保証されたアノテーション完了までの完全なワークフローを詳述します。

#### システム概要

```
┌─────────────────────────────────────────────────────────────────────┐
│              アノテーション・相互レビューシステム                    │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐             │
│  │  審査区分表  │    │   専門家    │    │   専門家    │             │
│  │  レジストリ │───►│  マッチング │───►│  割当キュー │             │
│  │             │    │   エンジン   │    │             │             │
│  └─────────────┘    └─────────────┘    └──────┬──────┘             │
│                                               │                     │
│                                               ▼                     │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐             │
│  │   品質      │◄───│   相互      │◄───│ アノテーション│            │
│  │  スコア     │    │  レビュー   │    │ ワークスペース│            │
│  │   計算      │    │  エンジン   │    │              │             │
│  └──────┬──────┘    └─────────────┘    └─────────────┘             │
│         │                                                           │
│         ▼                                                           │
│  ┌─────────────┐    ┌─────────────┐                                │
│  │レピュテーション│───►│   報酬     │                                │
│  │  トラッカー  │    │   分配     │                                │
│  └─────────────┘    └─────────────┘                                │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

#### 完全なアノテーションワークフロー

```
┌────────────────────────────────────────────────────────────────────┐
│                   アノテーションワークフロー                        │
└────────────────────────────────────────────────────────────────────┘

1. リクエストフェーズ
   ┌──────────┐     ┌──────────────┐     ┌──────────────┐
   │  データ   │────►│   分野別     │────►│  リクエスト  │
   │   提出   │     │   分類       │     │    作成      │
   └──────────┘     └──────────────┘     └──────┬───────┘
                                                │
2. マッチングフェーズ                            ▼
   ┌──────────────┐     ┌──────────────┐     ┌──────────────┐
   │   審査区分表  │────►│   候補者     │────►│   上位N名    │
   │    照会     │     │  スコアリング │     │    選定      │
   └──────────────┘     └──────────────┘     └──────┬───────┘
                                                    │
3. アノテーションフェーズ                           ▼
   ┌──────────────┐     ┌──────────────┐     ┌──────────────┐
   │   専門家に   │────►│   専門家が   │────►│ アノテーション│
   │    通知     │     │  アノテート  │     │    提出      │
   └──────────────┘     └──────────────┘     └──────┬───────┘
                                                    │
4. 相互レビューフェーズ                             ▼
   ┌──────────────┐     ┌──────────────┐     ┌──────────────┐
   │  レビュアー  │────►│    相互      │────►│   一致度     │
   │    割当     │     │   レビュー   │     │    計算      │
   └──────────────┘     └──────────────┘     └──────┬───────┘
                                                    │
5. 確定フェーズ                                     ▼
   ┌──────────────┐     ┌──────────────┐     ┌──────────────┐
   │    品質      │────►│レピュテーション│────►│    報酬      │
   │  スコア計算  │     │    更新       │     │    分配      │
   └──────────────┘     └──────────────┘     └──────────────┘
```

#### 相互レビューメカニズム

```
┌─────────────────────────────────────────┐
│          相互レビューエンジン           │
├─────────────────────────────────────────┤
│  レビュー割当                           │
│  ├── 2〜3名のピアレビュアーを選定       │
│  ├── 元のアノテーターとは別の人物       │
│  └── 同等の専門性レベル                 │
├─────────────────────────────────────────┤
│  レビュー基準                           │
│  ├── 正確性 (0-100)                     │
│  ├── 完全性 (0-100)                     │
│  ├── 一貫性 (0-100)                     │
│  └── 適時性（期限遵守）                 │
├─────────────────────────────────────────┤
│  コンセンサス計算                       │
│  ├── 一致率                             │
│  ├── 加重平均スコア                     │
│  └── 外れ値検出                         │
├─────────────────────────────────────────┤
│  紛争解決                               │
│  ├── 不一致時は第三のレビュアー         │
│  ├── 必要に応じてガーディアンへ         │
│  └── 最終仲裁プロセス                   │
└─────────────────────────────────────────┘
```

#### 品質スコア計算

```
品質スコア = (
    正確性 × 0.35 +
    完全性 × 0.25 +
    一貫性 × 0.25 +
    適時性 × 0.15
) × 一致度修正係数

一致度修正係数:
  - 高一致 (>90%): 1.0
  - 中一致 (70-90%): 0.9
  - 低一致 (<70%): 0.7 + 再レビュー必要
```

#### 専門家レピュテーションシステム

```
┌─────────────────────────────────────────┐
│       レピュテーショントラッカー        │
├─────────────────────────────────────────┤
│  追跡メトリクス                         │
│  ├── 累計アノテーション数               │
│  ├── 平均品質スコア                     │
│  ├── ピアレビュー精度                   │
│  ├── 平均応答時間                       │
│  └── 紛争率                             │
├─────────────────────────────────────────┤
│  レピュテーションスコア計算式           │
│  │                                      │
│  │  Rep = (平均品質 × 0.4) +            │
│  │        (レビュー精度 × 0.3) +        │
│  │        (信頼性 × 0.2) +              │
│  │        (経験値 × 0.1)                │
│  │                                      │
├─────────────────────────────────────────┤
│  レピュテーションの効果                 │
│  ├── マッチングでの優先度向上           │
│  ├── 報酬倍率の向上                     │
│  ├── 複雑なタスクへの適格性             │
│  └── ガバナンス重み付けボーナス         │
└─────────────────────────────────────────┘
```

#### 審査区分表の管理

```
┌─────────────────────────────────────────┐
│        審査区分表レジストリ             │
├─────────────────────────────────────────┤
│  構造                                   │
│  ├── レベル1: 主要分野 (CS, MED...)     │
│  ├── レベル2: サブフィールド            │
│  ├── レベル3: 専門特化                  │
│  └── タグ: 分野横断スキル               │
├─────────────────────────────────────────┤
│  ガバナンス                             │
│  ├── 新分野のコミュニティ提案           │
│  ├── 構造変更の投票                     │
│  ├── 専門家委員会レビュー               │
│  └── テーブルのバージョン管理           │
├─────────────────────────────────────────┤
│  専門家登録                             │
│  ├── 自己申告による専門性               │
│  ├── 資格認証（オプション）             │
│  ├── 検証用テストアノテーション         │
│  └── コミュニティ推薦                   │
└─────────────────────────────────────────┘
```

### ガバナンスモジュール

```
┌─────────────────────────────────────────┐
│          ガバナンスエンジン             │
├─────────────────────────────────────────┤
│  提案管理                               │
│  ├── 提出                               │
│  ├── 議論期間                           │
│  └── 投票期間                           │
├─────────────────────────────────────────┤
│  投票メカニズム                         │
│  ├── 単純多数決                         │
│  ├── 二次投票                           │
│  └── 委任投票                           │
├─────────────────────────────────────────┤
│  実行                                   │
│  ├── パラメータ更新                     │
│  ├── システムアップグレード             │
│  └── 資産管理                           │
└─────────────────────────────────────────┘
```

## アプリケーション層

### ウォレットUX設計思想

#### 従来の暗号通貨ウォレット（MetaMask等）の問題点

| 問題 | 従来のアプローチ | 何が問題か |
|:--|:--|:--|
| **シードフレーズ** | 12-24単語のバックアップ | 紛失する、安全でない場所に記録 |
| **ガス代** | 手動で見積もり | 技術者以外には意味不明 |
| **アドレス** | 0x742d35Cc... | 人間が読めない |
| **署名画面** | 生のトランザクションデータ | 怖い、検証できない |
| **復旧** | シードフレーズのみ | 紛失 = 資産永久喪失 |
| **ネットワーク** | 手動RPC設定 | エラーが起きやすい |

#### Mouseionウォレットの設計原則

```
┌─────────────────────────────────────────────────────────┐
│              Mouseion ウォレットのビジョン              │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  1. 認証（シードフレーズ不要）                          │
│  ┌────────────────────────────────────────────────────┐ │
│  │  メイン: Passkey（顔認証 / 指紋認証）              │ │
│  │  バックアップ: メール + SMS認証                    │ │
│  │  復旧: ソーシャルリカバリー（信頼できる連絡先）    │ │
│  └────────────────────────────────────────────────────┘ │
│                                                         │
│  2. 送金（人間に優しい）                                │
│  ┌────────────────────────────────────────────────────┐ │
│  │  宛先: @ユーザー名 or QRコード（16進アドレス不要） │ │
│  │  金額: 日本円表示（内部でトークン変換）            │ │
│  │  ガス: 不可視（運営負担 or 手数料に含む）          │ │
│  │  状態: 「1時間以内ならキャンセル可能」（明確表示） │ │
│  └────────────────────────────────────────────────────┘ │
│                                                         │
│  3. 安全性（可逆性を設計に組み込む）                    │
│  ┌────────────────────────────────────────────────────┐ │
│  │  猶予期間: 確認前に送金者がキャンセル可能          │ │
│  │  制限: 日次/週次の送金上限                         │ │
│  │  警告: 不審な活動の通知                            │ │
│  │  ガーディアン: 詐欺に対する紛争解決                │ │
│  └────────────────────────────────────────────────────┘ │
│                                                         │
│  4. 印税（パッシブインカム）                            │
│  ┌────────────────────────────────────────────────────┐ │
│  │  自動受取: 請求トランザクション不要                │ │
│  │  ダッシュボード: 「今月: ¥3,240（5つのAIモデルから）」│ │
│  │  出金: 銀行振込 or 外部ウォレット                  │ │
│  └────────────────────────────────────────────────────┘ │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

#### 技術的実装

```
┌─────────────────────────────────────────────────────────┐
│              ウォレット技術スタック                     │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  アカウント抽象化                                       │
│  ├── スマートコントラクトウォレット（EOAではない）     │
│  ├── 柔軟な署名検証                                    │
│  ├── ガス代肩代わり（Paymaster）                       │
│  └── バッチトランザクション                            │
│                                                         │
│  認証オプション                                         │
│  ├── WebAuthn / Passkeys (FIDO2)                       │
│  ├── メールマジックリンク                              │
│  ├── ソーシャルログイン（OAuth）+ MPC                  │
│  └── ハードウェアセキュリティモジュール（オプション）  │
│                                                         │
│  鍵管理                                                 │
│  ├── MPC（マルチパーティ計算）による鍵分割             │
│  ├── TEE（信頼実行環境）利用可能な場合                 │
│  └── 閾値署名によるソーシャルリカバリー                │
│                                                         │
│  ユーザー体験                                           │
│  ├── ENS風ネーミングシステム（@ユーザー名）            │
│  ├── 法定通貨オン/オフランプ統合                       │
│  ├── 保留中送金のプッシュ通知                          │
│  └── モバイルファースト・プログレッシブWebアプリ       │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

#### 競争優位性：可逆送金

従来の暗号通貨の最大のUX問題は**不可逆性**です：
- 誤ったアドレスに送金 → 資産永久喪失
- 詐欺トランザクション → 救済手段なし
- 新規ユーザー → 怖くて試せない

Mouseionの可逆送金がこれを解決します：
- ミスは回復可能（猶予期間内にキャンセル）
- 詐欺は凍結・取り消し可能（ガーディアンシステム）
- 新規ユーザーは自信を持って取引できる

**これが我々の核となるUX差別化要因です。**

### ウォレットUI機能
- 法定通貨換算表示付きトークン管理
- 明確なステータス表示付きトランザクション履歴
- ワンタップ操作での保留型送金確認
- QRコードやメッセージングでのワンタイム鍵共有
- 帰属詳細付き印税収益ダッシュボード

### 現代の決済アプリから学ぶUXパターン

成功しているモバイル決済アプリの分析から、共通パターンが明らかになりました：

| パターン | 説明 | Mouseionへの適用 |
|:--|:--|:--|
| **複雑なアドレス不要** | 電話番号、ユーザー名、QRコード | @ユーザー名、QR、電話番号 |
| **即時フィードバック** | 音、アニメーション、履歴即時更新 | 同様 + ステータスバー |
| **コンテキスト統合** | チャット内埋め込み、ソーシャル機能 | メッセージング統合、メモ |
| **専門用語ゼロ** | 技術用語なし | 「ガス」「署名」「ブロック」なし |
| **最小タップ** | 2-3タップで完了 | 同じ目標 |
| **クイック金額** | プリセット金額ボタン | ¥500, ¥1K, ¥3K, ¥5K ショートカット |

### 送金フローデザイン

```
┌─────────────────────────────────────────────────────────┐
│                MOUSEION 送金フロー                      │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ステップ1: 宛先選択                                    │
│  ┌────────────────────────────────────────────────────┐ │
│  │  🔍 名前、@ID、電話番号で検索                     │ │
│  │                                                    │ │
│  │  最近: [アイコン] [アイコン] [アイコン] [+]       │ │
│  │                                                    │ │
│  │  [ QRコードをスキャン ]                           │ │
│  └────────────────────────────────────────────────────┘ │
│                                                         │
│  ステップ2: 金額入力                                    │
│  ┌────────────────────────────────────────────────────┐ │
│  │              ¥ 1,000                              │ │
│  │                                                    │ │
│  │  [¥500] [¥1K] [¥3K] [¥5K]  ← クイック選択        │ │
│  │                                                    │ │
│  │  メモ: ランチ代 🍜                                 │ │
│  └────────────────────────────────────────────────────┘ │
│                                                         │
│  ステップ3: 確認＆送金                                  │
│  ┌────────────────────────────────────────────────────┐ │
│  │  @tanaka さんに ¥1,000 送金                       │ │
│  │                                                    │ │
│  │  ⚡ 1時間以内ならキャンセル可能                   │ │
│  │                                                    │ │
│  │           [ 送金する 👆 ]                         │ │
│  └────────────────────────────────────────────────────┘ │
│                                                         │
│  ステップ4: 完了                                        │
│  ┌────────────────────────────────────────────────────┐ │
│  │           ✨ 送金完了！ ✨                         │ │
│  │                                                    │ │
│  │  ┌──────────────────────────────────────────────┐ │ │
│  │  │  ⏱ 15:30まで キャンセル可能                 │ │ │
│  │  │     [ キャンセルする ]                      │ │ │
│  │  └──────────────────────────────────────────────┘ │ │
│  └────────────────────────────────────────────────────┘ │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 可逆性の可視化

従来の決済アプリでは送金は即時・不可逆ですが、Mouseionでは可逆期間を明確に表示します：

```
┌─────────────────────────────────────────────────────────┐
│              送金ステータス表示                         │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  従来のアプリ:                                          │
│    送金 → 完了（取り消し不可）                         │
│                                                         │
│  Mouseion:                                              │
│    ●━━━━━━━━━━━━━○━━━━━━━━━━━━━○                        │
│   送金         保留中          確定                    │
│               ↑                                         │
│         ここで [キャンセル] 可能                       │
│                                                         │
│  ステータスメッセージ:                                  │
│  - 「あと45分キャンセル可能」                          │
│  - 「受取人の確認待ち」                                │
│  - 「送金完了」                                        │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 印税ダッシュボードデザイン

```
┌─────────────────────────────────────────────────────────┐
│                  印税ダッシュボード                     │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  今月の収益                                             │
│  ┌────────────────────────────────────────────────────┐ │
│  │           ¥ 12,450                                │ │
│  │           先月比 +¥2,300 ↑                        │ │
│  └────────────────────────────────────────────────────┘ │
│                                                         │
│  AIモデル別内訳                                         │
│  ┌────────────────────────────────────────────────────┐ │
│  │  🤖 テキスト生成    ¥5,200  ████████░░░ 42%       │ │
│  │  🎨 画像生成        ¥3,800  ██████░░░░░ 31%       │ │
│  │  🎵 音楽生成        ¥2,100  ████░░░░░░░ 17%       │ │
│  │  📊 その他          ¥1,350  ██░░░░░░░░░ 10%       │ │
│  └────────────────────────────────────────────────────┘ │
│                                                         │
│  最近のアクティビティ                                   │
│  ┌────────────────────────────────────────────────────┐ │
│  │  2/15  学習使用（テキスト生成）      +¥120        │ │
│  │  2/15  参照使用（画像生成）          +¥85         │ │
│  │  2/14  学習使用（テキスト生成）      +¥95         │ │
│  └────────────────────────────────────────────────────┘ │
│                                                         │
│  [ 出金する 💰 ]  [ データを追加 📁 ]                  │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### データ登録
- データアップロードとメタデータ入力
- 権限設定（オプトイン/オプトアウト）
- 利用状況ダッシュボード

### データ利用許可システム

#### 設計思想

許可システムは3つの関心事のバランスを取る必要があります：
1. **シンプルさ**: 技術者でないユーザーも簡単に設定できる
2. **きめ細かさ**: 上級ユーザーは詳細に制御できる
3. **拡張性**: 新しいAIモデル（マルチモーダル含む）を追加可能

#### データ形式検出と自動フィルタリング

システムはデータ形式を自動検出し、無関係なAIモデルオプションを除外します：

```
┌─────────────────────────────────────────────────────────┐
│              データ形式 → AI互換性                      │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  検出: 画像データ                                       │
│  ┌────────────────────────────────────────────────────┐ │
│  │  ✅ 互換性のあるAI（ユーザーに表示）              │ │
│  │  ├── 画像生成                                     │ │
│  │  ├── 画像認識/分類                                │ │
│  │  ├── 物体検知                                     │ │
│  │  ├── 画像補正                                     │ │
│  │  ├── 動画生成（フレームとして）                   │ │
│  │  └── マルチモーダル理解                           │ │
│  │                                                    │ │
│  │  ❌ 非互換（自動的に非表示）                      │ │
│  │  ├── テキスト翻訳                                 │ │
│  │  ├── 音声認識                                     │ │
│  │  └── 時系列予測                                   │ │
│  └────────────────────────────────────────────────────┘ │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

#### マルチモーダルAIへの対応

現代のAIは複数のデータ形式を組み合わせて使用します。許可システムは**使用役割**で対応します：

```
┌─────────────────────────────────────────────────────────┐
│              マルチモーダル使用役割                     │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  1つのデータセットが異なる役割で使用される可能性：      │
│                                                         │
│  テキストデータの例:                                    │
│  ┌────────────────────────────────────────────────────┐ │
│  │  役割: 主要（PRIMARY）                            │ │
│  │  └── テキスト生成AI（直接学習）                   │ │
│  │                                                    │ │
│  │  役割: 補助（AUXILIARY）                          │ │
│  │  ├── 画像生成AI（プロンプト/キャプションとして）  │ │
│  │  ├── 音声生成AI（台本として）                     │ │
│  │  └── マルチモーダルAI（テキストエンコーダ学習）   │ │
│  └────────────────────────────────────────────────────┘ │
│                                                         │
│  画像データの例:                                        │
│  ┌────────────────────────────────────────────────────┐ │
│  │  役割: 主要（PRIMARY）                            │ │
│  │  ├── 画像生成AI（直接学習）                       │ │
│  │  └── 画像認識AI（直接学習）                       │ │
│  │                                                    │ │
│  │  役割: 補助（AUXILIARY）                          │ │
│  │  ├── テキスト生成AI（視覚エンコーダ）             │ │
│  │  ├── 動画生成AI（キーフレームとして）             │ │
│  │  └── マルチモーダルAI（画像エンコーダ学習）       │ │
│  └────────────────────────────────────────────────────┘ │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

#### 許可スキーマ（拡張可能な設計）

```json
{
  "schema_version": "1.0",
  "data_type": {
    "primary": "image",
    "subtypes": ["photograph", "illustration"],
    "detected_features": ["contains_faces", "outdoor_scene"]
  },

  "permissions": {
    "model_categories": {
      "generative": {
        "image": { "allowed": true, "role": "primary" },
        "video": { "allowed": true, "role": "auxiliary" },
        "text":  { "allowed": false },
        "audio": { "allowed": false }
      },
      "recognition": {
        "classification": { "allowed": true },
        "detection": { "allowed": true },
        "segmentation": { "allowed": true }
      },
      "multimodal": {
        "vision_language": { "allowed": true, "role": "primary" },
        "any_to_any": { "allowed": true, "role": "auxiliary" }
      },
      "transformation": {
        "enhancement": { "allowed": true },
        "style_transfer": { "allowed": true }
      }
    },

    "training_phases": {
      "pretraining": true,
      "finetuning": true,
      "rlhf": true,
      "rag_retrieval": true,
      "evaluation": true
    },

    "usage_context": {
      "commercial": true,
      "research": true,
      "educational": true
    },

    "special_conditions": {
      "face_usage": "blur_required",
      "attribution": "not_required",
      "geographic_restriction": null,
      "expiry_date": null
    }
  },

  "_extensibility": {
    "custom_model_types": [],
    "custom_conditions": [],
    "future_compatibility": "unknown_types_default_to_deny"
  }
}
```

#### UIフロー: 段階的開示

```
┌─────────────────────────────────────────────────────────┐
│          データ許可UI - レベル1（シンプル）             │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  📁 アップロード: vacation_photos.zip (2,450枚)         │
│  📷 検出: 人物を含む写真画像                            │
│                                                         │
│  このデータのAI利用をどう許可しますか？                 │
│  ┌────────────────────────────────────────────────────┐ │
│  │  ◉ オープン（推奨）                               │ │
│  │    互換性のあるすべてのAI開発に許可                │ │
│  │    → 最大の印税収入が期待できます                 │ │
│  │                                                    │ │
│  │  ○ バランス                                       │ │
│  │    ほとんどのAIに許可、顔関連は除外                │ │
│  │                                                    │ │
│  │  ○ 慎重                                           │ │
│  │    研究・非商用のみ                                │ │
│  │                                                    │ │
│  │  ○ カスタム                                       │ │
│  │    特定のAI種別と条件を選択                        │ │
│  └────────────────────────────────────────────────────┘ │
│                                                         │
│  [ データを登録 ]                                       │
│                                                         │
└─────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────┐
│          データ許可UI - レベル2（カスタム）             │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  どのAIがあなたの画像を使用できますか？                 │
│                                                         │
│  作るAI                                                 │
│  ├── ☑ 画像を作るAI（主要用途）                       │
│  ├── ☑ 動画を作るAI（参照フレームとして）             │
│  └── ☐ テキストを作るAI（視覚学習用）                 │
│                                                         │
│  理解するAI                                             │
│  ├── ☑ 画像の内容を認識するAI                         │
│  ├── ☑ 画像内の物体を見つけるAI                       │
│  └── ☑ 画像について質問に答えるAI                     │
│                                                         │
│  補正するAI                                             │
│  ├── ☑ 画像品質を向上させるAI                         │
│  └── ☑ 画像スタイルを変換するAI                       │
│                                                         │
│  [ 詳細設定 ▼ ]                                        │
│                                                         │
└─────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────┐
│          データ許可UI - レベル3（上級）                 │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  学習フェーズの許可                                     │
│  ├── ☑ 基盤モデル学習（大規模事前学習）               │
│  ├── ☑ タスク特化ファインチューニング                 │
│  ├── ☑ 人間フィードバック学習（RLHF）                 │
│  ├── ☑ 検索参照（RAG、学習には使わない）              │
│  └── ☑ モデル評価/ベンチマーク                        │
│                                                         │
│  特別条件                                               │
│  ├── 画像内の顔:                                       │
│  │   ○ そのまま許可  ◉ ぼかし必須  ○ 使用拒否        │
│  ├── 商用利用:                                         │
│  │   ◉ 許可  ○ 非商用のみ                            │
│  └── 帰属表示:                                         │
│      ○ 必須  ◉ 不要                                   │
│                                                         │
│  [ JSONで表示 ]  [ プリセット保存 ]                     │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

#### 将来のAI種別への拡張性

システムは新しいAIパラダイムに対応できるよう設計されています：

```
┌─────────────────────────────────────────────────────────┐
│              拡張性メカニズム                           │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  1. モデルカテゴリレジストリ（ガバナンス管理）          │
│  ┌────────────────────────────────────────────────────┐ │
│  │  新AIタイプ提案 → コミュニティ投票 → 追加         │ │
│  │                                                    │ │
│  │  追加例:                                           │ │
│  │  - "world_model"（世界モデル）                    │ │
│  │  - "embodied_ai"（ロボティクス）                  │ │
│  │  - "scientific_discovery"（AlphaFold系）          │ │
│  └────────────────────────────────────────────────────┘ │
│                                                         │
│  2. 未知タイプのデフォルト動作                          │
│  ┌────────────────────────────────────────────────────┐ │
│  │  ユーザーがデフォルト姿勢を選択:                   │ │
│  │  ○ 楽観的: 未知タイプを許可（オプトアウト方式）   │ │
│  │  ◉ 慎重: 未知タイプを拒否（オプトイン方式）       │ │
│  │                                                    │ │
│  │  新タイプ追加時、ユーザーにレビュー通知           │ │
│  └────────────────────────────────────────────────────┘ │
│                                                         │
│  3. 互換性推論エンジン                                  │
│  ┌────────────────────────────────────────────────────┐ │
│  │  新AIタイプは類似の既存タイプから許可を継承        │ │
│  │  （ユーザーが明示的に設定するまで）                │ │
│  │                                                    │ │
│  │  例: "world_model" → 継承元:                      │ │
│  │      "video_generation" + "multimodal"             │ │
│  └────────────────────────────────────────────────────┘ │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

#### データ形式互換性マトリクス

| データ形式 | 主要AI用途 | 補助AI用途 |
|:--|:--|:--|
| **画像** | 画像生成、認識、補正 | 動画生成、Vision-Language、世界モデル |
| **テキスト** | テキスト生成、翻訳、要約 | 画像生成（キャプション）、音声生成（台本）、マルチモーダル |
| **音声** | 音声認識、音楽生成、TTS | 動画生成（音声トラック）、マルチモーダル理解 |
| **動画** | 動画生成、行動認識 | 画像生成（フレーム）、音声生成、世界モデル |
| **構造化** | 予測、異常検知、レコメンド | LLM（テーブル理解）、マルチモーダル分析 |
| **コード** | コード生成、バグ検出 | テキスト生成（ドキュメント）、マルチモーダル（コード+出力） |
| **3D/CAD** | 3D生成、シミュレーション | 画像生成（レンダリング）、動画生成、ロボティクス |

### 報酬ダッシュボード
- 収益の可視化
- 貢献内訳
- 支払い履歴

### ガバナンス投票
- 提案の閲覧
- 投票インターフェース
- 委任管理

### 専門家ポータル
- アノテーション作業スペース
- ピアレビューインターフェース
- 専門性プロファイル管理

### マーケットプレイス
- データ検索
- ライセンス購入
- 直接販売

### モデルレジストリ＆配布

Mouseionはデータ貢献だけでなく、そのデータで学習されたモデルも追跡し、実際のモデル利用に基づいて印税を分配します。

#### Mouseion上のモデルライフサイクル

```
┌─────────────────────────────────────────────────────────────┐
│                  モデルライフサイクル                        │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  1. データ登録                                               │
│  ┌─────────────┐                                            │
│  │データ提供者 │ → データ登録 → 許可設定                    │
│  └─────────────┘                                            │
│                                                              │
│  2. ライセンス取得（学習フェーズ）                           │
│  ┌─────────────┐    ┌─────────────┐                         │
│  │ AI開発者    │ →  │Mouseion経由│ → ライセンス料支払い    │
│  │             │    │でデータ利用│                         │
│  └─────────────┘    └─────────────┘                         │
│         │                                                    │
│         ▼                                                    │
│  ┌─────────────────────────────────────────────────────┐    │
│  │  学習は外部で実行（DePIN / クラウド）               │    │
│  │  - Mouseionはどのデータが使われたか記録             │    │
│  │  - Mouseionは計算を行わない                         │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                              │
│  3. モデル登録                                               │
│  ┌─────────────┐    ┌─────────────┐                         │
│  │ AI開発者    │ →  │学習済み     │ → モデルメタデータ     │
│  │             │    │モデル登録   │ → データ使用証明       │
│  └─────────────┘    └─────────────┘ → 重み or API URL      │
│                                                              │
│  4. モデルアクセス（推論フェーズ）                           │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐     │
│  │エンドユーザ │ →  │APIキーまたは│ →  │ モデル利用  │     │
│  │             │    │重みアクセス │    │ （推論）    │     │
│  │             │    │を申請       │    │             │     │
│  └─────────────┘    └──────┬──────┘    └─────────────┘     │
│                            │                                 │
│  5. 印税分配               ▼                                 │
│  ┌─────────────────────────────────────────────────────┐    │
│  │  利用量追跡 → 料金徴収 → 印税支払い                 │    │
│  │  （可逆送金で）                                     │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

#### モデルマーケットプレイスUI

```
┌─────────────────────────────────────────────────────────────┐
│                    モデルマーケットプレイス                  │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  🔍 検索: [画像生成___________________] [検索]               │
│                                                              │
│  フィルタ: [全種別 ▼] [商用利用可 ▼] [並び替え: 人気順 ▼]   │
│                                                              │
│  ┌────────────────────────────────────────────────────────┐ │
│  │  🤖 ImageGen-v3                              ⭐ 4.8     │ │
│  │  ──────────────────────────────────────────────────────│ │
│  │  開発者: @acme_ai                                      │ │
│  │  学習データ: 2,450,000件                               │ │
│  │  あなたの貢献: 120件 (0.005%)                          │ │
│  │  ライセンス: 商用利用可                                │ │
│  │                                                        │ │
│  │  アクセスオプション:                                   │ │
│  │  ┌──────────────────┐  ┌──────────────────┐           │ │
│  │  │  🔑 API利用      │  │  📦 重みDL       │           │ │
│  │  │  ¥0.10 / 回      │  │  ¥50,000 (1回)   │           │ │
│  │  │                  │  │                  │           │ │
│  │  │  [APIキー取得]   │  │  [ダウンロード]  │           │ │
│  │  └──────────────────┘  └──────────────────┘           │ │
│  │                                                        │ │
│  │  💰 あなたへの印税: API ¥0.001/回, DL ¥50/回           │ │
│  │                                                        │ │
│  └────────────────────────────────────────────────────────┘ │
│                                                              │
│  ┌────────────────────────────────────────────────────────┐ │
│  │  🎵 MusicGen-Pro                             ⭐ 4.5     │ │
│  │  ──────────────────────────────────────────────────────│ │
│  │  開発者: @sound_labs                                   │ │
│  │  学習データ: 890,000件                                 │ │
│  │  あなたの貢献: 0件                                     │ │
│  │  ...                                                   │ │
│  └────────────────────────────────────────────────────────┘ │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

#### モデルアクセス方法

| 方法 | 説明 | ユースケース |
|:--|:--|:--|
| **APIキー** | Mouseionゲートウェイ経由の従量課金 | SaaS統合、従量課金 |
| **重みダウンロード** | モデル重みの買い切り | 自社ホスティング、ファインチューニング |
| **サブスクリプション** | 月額無制限アクセス | エンタープライズユーザー |
| **研究ライセンス** | 学術利用向け無料/割引 | 大学、非営利団体 |

#### APIゲートウェイアーキテクチャ

```
┌─────────────────────────────────────────────────────────────┐
│                 MOUSEION APIゲートウェイ                     │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  エンドユーザーのリクエスト                                  │
│       │                                                      │
│       ▼                                                      │
│  ┌─────────────┐                                            │
│  │ Mouseion    │  1. APIキー検証                            │
│  │ ゲートウェイ│  2. クォータ/残高確認                      │
│  │             │  3. 利用ログ記録（オンチェーンorバッチ）    │
│  └──────┬──────┘                                            │
│         │                                                    │
│         ▼                                                    │
│  ┌─────────────┐                                            │
│  │ AI開発者の  │  ← 実際の推論はここで実行                  │
│  │エンドポイント│  ← Mouseionはモデルをホストしない         │
│  │ （外部）    │                                            │
│  └──────┬──────┘                                            │
│         │                                                    │
│         ▼                                                    │
│  レスポンスをユーザーに返却                                  │
│                                                              │
│  ───────────────────────────────────────────────────────── │
│                                                              │
│  定期的に（例：毎日）:                                       │
│  ┌─────────────┐    ┌─────────────┐                         │
│  │  利用ログ   │ →  │   印税を    │ → データ提供者が        │
│  │   集計      │    │   分配      │   支払いを受け取る      │
│  └─────────────┘    └─────────────┘                         │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

**重要な設計判断**: Mouseionはモデルホスティングサービスではなく、**軽量なゲートウェイ**として機能します。これにより、利用量追跡を維持しながらインフラコストを最小化できます。

## データフロー

### データ登録フロー
```
ユーザー → データ登録UI → データマネージャー → オンチェーン（メタデータ）+ オフチェーン（本体）
```

### AI生成フロー
```
AIサービス → 貢献追跡 → 帰属 → 報酬分配 → 保留型送金
```

### 報酬請求フロー
```
貢献者 → ウォレットUI → 受領確認 → レイヤー1（確定） → トークン移転
```

### ガバナンスフロー
```
提案 → 議論 → 投票 → 実行（可決時）
```

## 外部連携

### オフチェーンストレージ
- **IPFS**: 分散ファイルストレージ
- **Arweave**: 永続ストレージオプション

### AIサービス
- 貢献追跡用API連携
- 報酬トリガー用Webhook通知

### 本人確認（オプション）
- 高額操作向けKYCプロバイダー
- ソーシャルリカバリーサービス

## セキュリティ考慮事項

### レイヤー1
- アトミックな状態遷移
- ワンタイム鍵用の暗号学的乱数
- キャンセルのレート制限

### サービス層
- 不正検知アルゴリズム
- 相互レビュー検証
- 監査ログ

### アプリケーション層
- セキュアな鍵保管
- フィッシング保護
- ドメイン検証

## コスト構造と資金の流れ

### 誰が何を支払うか？

重要な問題：Mouseionエコシステムで誰がコストを負担するか？

```
┌─────────────────────────────────────────────────────────────┐
│                    資金の流れ                                │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  AI開発者（モデルを学習する側）                              │
│       │                                                      │
│       ├──→ コンピュート代 ────→ DePIN / クラウド            │
│       │    （GPU利用料）        （Akash, AWS等）             │
│       │                                                      │
│       └──→ データライセンス ──→ Mouseion                    │
│            料                       │                        │
│                                     ├──→ データ提供者        │
│                                     │    （印税）            │
│                                     │                        │
│                                     └──→ Mouseion            │
│                                          （プラットフォーム手数料）│
│                                                              │
│  ─────────────────────────────────────────────────────────  │
│                                                              │
│  モデル利用者（推論）                                        │
│       │                                                      │
│       └──→ API / ダウンロード ─→ Mouseion                    │
│            料金                     │                        │
│                                     ├──→ AI開発者            │
│                                     │    （モデル作成者）    │
│                                     │                        │
│                                     ├──→ データ提供者        │
│                                     │    （利用印税）        │
│                                     │                        │
│                                     └──→ Mouseion            │
│                                          （プラットフォーム手数料）│
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

### 役割別コスト内訳

| 役割 | 支払い | 受け取り |
|:--|:--|:--|
| **データ提供者** | なし | 学習＋推論からの印税 |
| **AI開発者** | コンピュート＋データライセンス | モデル利用からの収益 |
| **モデル利用者** | API/ダウンロード料金 | 学習済みモデルへのアクセス |
| **Mouseion** | インフラ（最小限） | プラットフォーム手数料（取引の%） |

### Mouseionが支払わないもの:

- ❌ 学習用GPUコンピュート
- ❌ モデルホスティング/推論サーバー
- ❌ データストレージ（IPFS/Arweave使用、アップロード者が支払い）

### Mouseionが支払うもの:

- ✅ ブロックチェーンノード運用
- ✅ APIゲートウェイ（軽量リレー）
- ✅ Webアプリケーションホスティング

### 収益モデル

```
┌─────────────────────────────────────────────────────────────┐
│                 MOUSEION 収益源                              │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  1. データライセンス料（学習時）                             │
│     └── AI開発者がデータセット使用に対して支払い            │
│     └── Mouseionが5-10%のプラットフォーム手数料を徴収       │
│     └── 残りはデータ提供者へ                                │
│                                                              │
│  2. モデルアクセス料（推論時）                               │
│     └── ユーザーがAPIコールまたはダウンロードに対して支払い │
│     └── Mouseionが5-10%のプラットフォーム手数料を徴収       │
│     └── AI開発者とデータ提供者で分配                        │
│                                                              │
│  3. プレミアム機能（オプション）                             │
│     └── 専門家の優先マッチング                              │
│     └── 高度な分析機能                                      │
│     └── エンタープライズSLA                                 │
│                                                              │
│  4. トークンエコノミクス（将来）                             │
│     └── ステーキング報酬                                    │
│     └── ガバナンス参加                                      │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

### 取引フローの例

```
シナリオ: AI企業が画像モデルを学習、ユーザーがAPIコール

1. 学習フェーズ
   AI開発者が100万枚の画像をライセンス @ ¥0.10/枚 = ¥100,000
   ├── データ提供者が受け取り: ¥90,000 (90%)
   └── Mouseionが受け取り: ¥10,000 (10%)

2. モデル登録
   AI開発者が学習済みモデルを登録（無料、メタデータのみ）

3. 推論フェーズ
   ユーザーが10,000回APIコール @ ¥1/回 = ¥10,000
   ├── AI開発者が受け取り: ¥7,000 (70%)
   ├── データ提供者が受け取り: ¥2,000 (20%)
   └── Mouseionが受け取り: ¥1,000 (10%)

データ提供者の総収入: 画像提供に対して¥92,000
```

### MVP向けコスト最適化

スリムなローンチのため、Mouseionはインフラを最小化できます：

| コンポーネント | フル版 | MVP版 |
|:--|:--|:--|
| モデルホスティング | Mouseionサーバー | AI開発者のサーバー（外部URL） |
| APIゲートウェイ | フルプロキシ | リダイレクト＋ログのみ |
| 利用量追跡 | リアルタイムオンチェーン | 日次バッチ精算 |
| モデル重み | IPFS＋冗長化 | AI開発者がダウンロード提供 |

これにより、コア価値提案を証明しながら運営コストを低く抑えられます。

---

## AIトレーニングのコンピューティング資源

### 疑問: AIトレーニングはブロックチェーンのように分散できるか？

よくある誤解として、AIトレーニングの計算がブロックチェーンノードのコンセンサス作業と同じように分散できるというものがあります。実際には、これらは根本的に異なる計算パラダイムです。

**ブロックチェーンコンセンサス vs AIトレーニング**

| 側面 | ブロックチェーンコンセンサス | AIトレーニング |
|:--|:--|:--|
| 計算タイプ | ハッシュ計算、検証 | 行列演算、勾配計算 |
| データ依存性 | 独立したブロック | 高度に相互依存するデータ |
| 並列化 | 自然に並列（各ノードが検証） | 慎重なオーケストレーションが必要 |
| 通信 | 時折（ブロックブロードキャスト） | 常時（勾配同期） |
| レイテンシ許容度 | 分単位でOK | ミリ秒が重要 |

### Mouseionの役割: インセンティブ層であり、トレーニング層ではない

**重要な明確化**: MouseionはAIトレーニング自体を行いません。Mouseionは**インセンティブおよび帰属層**であり：

1. AIモデルへの**データ貢献を追跡**
2. データ提供者への**印税を分配**
3. データ使用の**許可を管理**
4. エコシステムの**ガバナンスを提供**

AIトレーニングは**外部**で実行されます—集中型クラウド（AWS、GCP）、または増加傾向にある分散型コンピュートネットワーク上で。

```
┌─────────────────────────────────────────────────────────────┐
│                    Mouseion エコシステム                     │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  ┌────────────────────────────────────────────────────────┐ │
│  │                 データ提供者                            │ │
│  │  （データ登録、許可設定、印税受取）                     │ │
│  └───────────────────────────┬────────────────────────────┘ │
│                              │                               │
│                              ▼                               │
│  ┌────────────────────────────────────────────────────────┐ │
│  │         Mouseion ブロックチェーン（本プロジェクト）      │ │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐             │ │
│  │  │  貢献    │  │   印税   │  │  許可    │             │ │
│  │  │  追跡    │  │   分配   │  │ システム │             │ │
│  │  └──────────┘  └──────────┘  └──────────┘             │ │
│  └───────────────────────────┬────────────────────────────┘ │
│                              │                               │
│                              ▼                               │
│  ┌────────────────────────────────────────────────────────┐ │
│  │        外部コンピュート（Mouseionの範囲外）             │ │
│  │                                                         │ │
│  │  オプションA: 集中型クラウド                            │ │
│  │  ├── AWS, GCP, Azure                                    │ │
│  │  └── 従来のGPUクラスター                                │ │
│  │                                                         │ │
│  │  オプションB: 分散型コンピュートネットワーク (DePIN)     │ │
│  │  ├── Akash Network（GPUマーケットプレイス）             │ │
│  │  ├── Render Network（GPUレンダリング/AI）               │ │
│  │  └── Bittensor（AIトレーニングネットワーク）            │ │
│  │                                                         │ │
│  │  オプションC: 連合学習（Federated Learning）            │ │
│  │  └── ローカルで学習、モデル更新のみ共有                 │ │
│  │                                                         │ │
│  └────────────────────────────────────────────────────────┘ │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

### 分散AIトレーニングのアプローチ

#### 1. 連合学習（最もプライバシー保護的）

連合学習は、データを中央集権化せずにモデルトレーニングを可能にします：

```
┌─────────────────────────────────────────────────────────────┐
│                   連合学習のフロー                           │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│   ┌────────┐   ┌────────┐   ┌────────┐   ┌────────┐        │
│   │ノードA │   │ノードB │   │ノードC │   │ノードD │        │
│   │(データ)│   │(データ)│   │(データ)│   │(データ)│        │
│   └───┬────┘   └───┬────┘   └───┬────┘   └───┬────┘        │
│       │            │            │            │              │
│       ▼            ▼            ▼            ▼              │
│   ┌────────┐   ┌────────┐   ┌────────┐   ┌────────┐        │
│   │ローカル │   │ローカル │   │ローカル │   │ローカル │        │
│   │トレーニング│   │トレーニング│   │トレーニング│   │トレーニング│        │
│   └───┬────┘   └───┬────┘   └───┬────┘   └───┬────┘        │
│       │            │            │            │              │
│       └────────────┴─────┬──────┴────────────┘              │
│                          │                                   │
│                          ▼ (勾配のみ、生データではない)       │
│                   ┌─────────────┐                           │
│                   │   更新を    │                           │
│                   │   集約      │                           │
│                   └──────┬──────┘                           │
│                          │                                   │
│                          ▼                                   │
│                   ┌─────────────┐                           │
│                   │  グローバル │                           │
│                   │   モデル    │                           │
│                   └─────────────┘                           │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

**メリット**:
- データはユーザーデバイスから出ない
- 設計によりプライバシーを保護
- エッジデバイスに適したスケーラビリティ

**デメリット**:
- 通信オーバーヘッドが大きい
- モデル品質がデータ分布に依存
- 大規模モデル（LLM）の調整が困難

**Mouseion統合**: Mouseionは連合学習に参加したノードを追跡し、貢献度指標（勾配更新、データ品質スコア）に基づいて印税を分配できます。

#### 2. 分散型コンピュートネットワーク (DePIN)

2025〜2026年の主要プレイヤー：

| ネットワーク | 焦点 | 主な特徴 |
|:--|:--|:--|
| **Akash Network** | 汎用クラウドコンピュート | Kubernetesベース、年間経常収益430万ドル以上、NVIDIA Blackwell GPU統合 |
| **Render Network** | GPUレンダリング + AI | 30万以上のGPU、AIワークロードに拡張 |
| **Bittensor (TAO)** | AIトレーニング/推論 | サブネットアーキテクチャ、市場駆動型割当 |
| **AIArena** | 分散型AIトレーニング | 600以上のトレーニングノード、19,000以上のモデル生成 |

**DePINの仕組み**:

```
┌─────────────────────────────────────────────────────────────┐
│                   DePIN コンピュートフロー                   │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│   コンピュート提供者（GPU所有者）                            │
│   ┌────────┐   ┌────────┐   ┌────────┐   ┌────────┐        │
│   │RTX 4090│   │ A100   │   │ H100   │   │ A6000  │        │
│   └───┬────┘   └───┬────┘   └───┬────┘   └───┬────┘        │
│       │            │            │            │              │
│       └────────────┴─────┬──────┴────────────┘              │
│                          │                                   │
│                          ▼                                   │
│                   ┌─────────────┐                           │
│                   │マーケット   │  ← Akash, Render等        │
│                   │プレイス     │                           │
│                   └──────┬──────┘                           │
│                          │                                   │
│                          ▼                                   │
│                   ┌─────────────┐                           │
│                   │   AI開発者  │  ← コンピュートを借りる    │
│                   │   (購入者)  │  ← トークンで支払い        │
│                   └─────────────┘                           │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

**Mouseion統合**: AI開発者がDePINコンピュートでモデルをトレーニングする際、Mouseionはどのデータセットが使用されたかを追跡し、データ提供者に補償が行われることを保証します。コンピュートマーケットプレイスと印税分配は別々ですが補完的です。

#### 3. ハイブリッドアプローチ（Mouseionエコシステム推奨）

```
┌─────────────────────────────────────────────────────────────┐
│                Mouseion + DePIN 統合                         │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  1. データ提供者がMouseionにデータを登録                     │
│     └── 許可、価格設定、AI種別制限を設定                    │
│                                                              │
│  2. AI開発者がMouseionにライセンスデータを照会               │
│     └── Mouseionが適格なデータセット + ライセンス条件を返す │
│                                                              │
│  3. AI開発者がDePINからコンピュートを借りる                  │
│     └── Akash/Render/BittensorがGPUコンピュートを提供       │
│                                                              │
│  4. DePINコンピュートでトレーニング実行                      │
│     └── ライセンスデータを使用してモデルをトレーニング      │
│                                                              │
│  5. AI開発者がMouseionに使用状況を報告                       │
│     └── 貢献度指標（どのデータ、どれだけ等）                │
│                                                              │
│  6. Mouseionが印税を分配                                     │
│     └── データ提供者が可逆送金で支払いを受け取る            │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

### まとめ: Mouseionのコンピュート戦略

| 質問 | 回答 |
|:--|:--|
| MouseionはAIトレーニングを行う？ | **いいえ** — Mouseionはインセンティブ/帰属層 |
| トレーニングはどこで行われる？ | 外部コンピュート（クラウドまたはDePIN） |
| トレーニングは分散できる？ | はい、連合学習またはDePINで |
| Mouseionブロックチェーンは何をする？ | 貢献追跡、印税分配、許可管理 |
| 将来的な統合は？ | DePINネットワークとコンピュート提携、インセンティブ層に集中 |

### 市場状況 (2025〜2026年)

- ブロックチェーン-AI市場: 7億ドル (2025年) → 予測18.8億ドル (2029年)
- 連合学習市場: 1.5億ドル (2023年) → 予測23億ドル (2032年)、CAGR 35.4%
- Akash Network ARR: 430万ドル以上、2025年Q3に27,000件の新規リース
- AIArena: 600以上のトレーニングノード、19,000以上のモデルをオンチェーンで生成

参考資料:
- [AIArena: ACM Web Conference 2025](https://dl.acm.org/doi/10.1145/3701716.3715484)
- [Akash Network Q3 2025 - Messari](https://messari.io/report/state-of-akash-q3-2025)
- [分散コンピュートネットワーク - Guru Startups](https://www.gurustartups.com/reports/decentralized-compute-networks-akash-render-bittensor)
- [ブロックチェーンベース連合学習調査 - MDPI](https://www.mdpi.com/2076-3417/14/20/9459)
- [連合学習市場成長 2025](https://vertu.com/ai-tools/ai-federated-learning-transforming-industries-2025/)

---

## スケーラビリティパス

### Phase 1: シングルノード（MVP）
- 基本的な台帳機能
- シンプルなWebウォレット

### Phase 2: マルチノード
- 分散コンセンサス
- 同期プロトコル

### Phase 3: レイヤー2（将来）
- バッチ処理
- オフチェーン計算
- ステートチャネル

### Phase 4: DePIN統合（将来）
- 分散型コンピュートネットワークとの提携
- プライバシー保護トレーニングのための連合学習サポート
- コンピュートマーケットプレイスへのクロスチェーンブリッジ
